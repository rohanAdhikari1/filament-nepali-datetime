var D=[[2e3,30,32,31,32,31,30,30,30,29,30,29,31],[2001,31,31,32,31,31,31,30,29,30,29,30,30],[2002,31,31,32,32,31,30,30,29,30,29,30,30],[2003,31,32,31,32,31,30,30,30,29,29,30,31],[2004,30,32,31,32,31,30,30,30,29,30,29,31],[2005,31,31,32,31,31,31,30,29,30,29,30,30],[2006,31,31,32,32,31,30,30,29,30,29,30,30],[2007,31,32,31,32,31,30,30,30,29,29,30,31],[2008,31,31,31,32,31,31,29,30,30,29,29,31],[2009,31,31,32,31,31,31,30,29,30,29,30,30],[2010,31,31,32,32,31,30,30,29,30,29,30,30],[2011,31,32,31,32,31,30,30,30,29,29,30,31],[2012,31,31,31,32,31,31,29,30,30,29,30,30],[2013,31,31,32,31,31,31,30,29,30,29,30,30],[2014,31,31,32,32,31,30,30,29,30,29,30,30],[2015,31,32,31,32,31,30,30,30,29,29,30,31],[2016,31,31,31,32,31,31,29,30,30,29,30,30],[2017,31,31,32,31,31,31,30,29,30,29,30,30],[2018,31,32,31,32,31,30,30,29,30,29,30,30],[2019,31,32,31,32,31,30,30,30,29,30,29,31],[2020,31,31,31,32,31,31,30,29,30,29,30,30],[2021,31,31,32,31,31,31,30,29,30,29,30,30],[2022,31,32,31,32,31,30,30,30,29,29,30,30],[2023,31,32,31,32,31,30,30,30,29,30,29,31],[2024,31,31,31,32,31,31,30,29,30,29,30,30],[2025,31,31,32,31,31,31,30,29,30,29,30,30],[2026,31,32,31,32,31,30,30,30,29,29,30,31],[2027,30,32,31,32,31,30,30,30,29,30,29,31],[2028,31,31,32,31,31,31,30,29,30,29,30,30],[2029,31,31,32,31,32,30,30,29,30,29,30,30],[2030,31,32,31,32,31,30,30,30,29,29,30,31],[2031,30,32,31,32,31,30,30,30,29,30,29,31],[2032,31,31,32,31,31,31,30,29,30,29,30,30],[2033,31,31,32,32,31,30,30,29,30,29,30,30],[2034,31,32,31,32,31,30,30,30,29,29,30,31],[2035,30,32,31,32,31,31,29,30,30,29,29,31],[2036,31,31,32,31,31,31,30,29,30,29,30,30],[2037,31,31,32,32,31,30,30,29,30,29,30,30],[2038,31,32,31,32,31,30,30,30,29,29,30,31],[2039,31,31,31,32,31,31,29,30,30,29,30,30],[2040,31,31,32,31,31,31,30,29,30,29,30,30],[2041,31,31,32,32,31,30,30,29,30,29,30,30],[2042,31,32,31,32,31,30,30,30,29,29,30,31],[2043,31,31,31,32,31,31,29,30,30,29,30,30],[2044,31,31,32,31,31,31,30,29,30,29,30,30],[2045,31,32,31,32,31,30,30,29,30,29,30,30],[2046,31,32,31,32,31,30,30,30,29,29,30,31],[2047,31,31,31,32,31,31,30,29,30,29,30,30],[2048,31,31,32,31,31,31,30,29,30,29,30,30],[2049,31,32,31,32,31,30,30,30,29,29,30,30],[2050,31,32,31,32,31,30,30,30,29,30,29,31],[2051,31,31,31,32,31,31,30,29,30,29,30,30],[2052,31,31,32,31,31,31,30,29,30,29,30,30],[2053,31,32,31,32,31,30,30,30,29,29,30,30],[2054,31,32,31,32,31,30,30,30,29,30,29,31],[2055,31,31,32,31,31,31,30,29,30,29,30,30],[2056,31,31,32,31,32,30,30,29,30,29,30,30],[2057,31,32,31,32,31,30,30,30,29,29,30,31],[2058,30,32,31,32,31,30,30,30,29,30,29,31],[2059,31,31,32,31,31,31,30,29,30,29,30,30],[2060,31,31,32,32,31,30,30,29,30,29,30,30],[2061,31,32,31,32,31,30,30,30,29,29,30,31],[2062,30,32,31,32,31,31,29,30,29,30,29,31],[2063,31,31,32,31,31,31,30,29,30,29,30,30],[2064,31,31,32,32,31,30,30,29,30,29,30,30],[2065,31,32,31,32,31,30,30,30,29,29,30,31],[2066,31,31,31,32,31,31,29,30,30,29,29,31],[2067,31,31,32,31,31,31,30,29,30,29,30,30],[2068,31,31,32,32,31,30,30,29,30,29,30,30],[2069,31,32,31,32,31,30,30,30,29,29,30,31],[2070,31,31,31,32,31,31,29,30,30,29,30,30],[2071,31,31,32,31,31,31,30,29,30,29,30,30],[2072,31,32,31,32,31,30,30,29,30,29,30,30],[2073,31,32,31,32,31,30,30,30,29,29,30,31],[2074,31,31,31,32,31,31,30,29,30,29,30,30],[2075,31,31,32,31,31,31,30,29,30,29,30,30],[2076,31,32,31,32,31,30,30,30,29,29,30,30],[2077,31,32,31,32,31,30,30,30,29,30,29,31],[2078,31,31,31,32,31,31,30,29,30,29,30,30],[2079,31,31,32,31,31,31,30,29,30,29,30,30],[2080,31,32,31,32,31,30,30,30,29,29,30,30],[2081,31,32,31,32,31,30,30,30,29,30,29,31],[2082,31,31,32,31,31,31,30,29,30,29,30,30],[2083,31,31,32,31,31,31,30,29,30,29,30,30],[2084,31,31,32,31,31,30,30,30,29,30,30,30],[2085,31,32,31,32,30,31,30,30,29,30,30,30],[2086,30,32,31,32,31,30,30,30,29,30,30,30],[2087,31,31,32,31,31,31,30,30,29,30,30,30],[2088,30,31,32,32,30,31,30,30,29,30,30,30],[2089,30,32,31,32,31,30,30,30,29,30,30,30],[2090,30,32,31,32,31,30,30,30,29,30,30,30],[2091,31,31,32,31,31,31,30,30,29,30,30,30],[2092,30,31,32,32,31,30,30,30,29,30,30,30],[2093,31,31,32,31,31,30,30,30,29,30,30,30],[2094,31,31,32,31,31,30,30,30,29,30,30,30],[2095,31,31,32,31,31,31,30,29,30,30,30,30],[2096,30,31,32,32,31,30,30,29,30,29,30,30],[2097,31,32,31,32,31,30,30,30,29,30,30,30],[2098,31,31,32,31,31,31,29,30,29,30,29,31],[2099,31,31,32,31,31,31,30,29,29,30,30,30]],Y=[31,28,31,30,31,30,31,31,30,31,30,31],T=[31,29,31,30,31,30,31,31,30,31,30,31],I=["Baisakh","Jestha","Asar","Shrawan","Bhadra","Aswin","Kartik","Mangsir","Poush","Magh","Falgun","Chaitra"],N=["Bai","Jes","Asa","Shr","Bhd","Asw","Kar","Man","Pou","Mag","Fal","Cha"],k=["\u092C\u0948\u0936\u093E\u0916","\u091C\u0947\u0920","\u0905\u0938\u093E\u0930","\u0936\u094D\u0930\u093E\u0935\u0923","\u092D\u093E\u0926\u094D\u0930","\u0906\u0936\u094D\u0935\u093F\u0928","\u0915\u093E\u0930\u094D\u0924\u093F\u0915","\u092E\u0902\u0938\u093F\u0930","\u092A\u094C\u0937","\u092E\u093E\u0918","\u092B\u093E\u0932\u094D\u0917\u0941\u0923","\u091A\u0948\u0924\u094D\u0930"],O=["\u092C\u0948","\u091C\u0947","\u0905","\u0936\u094D\u0930\u093E","\u092D\u093E","\u0906","\u0915\u093E","\u092E\u0902","\u092A\u094C","\u092E\u093E","\u092B\u093E","\u091A\u0948"],Z=["\u0966","\u0967","\u0968","\u0969","\u096A","\u096B","\u096C","\u096D","\u096E","\u096F"],R=["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],W=["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],B=["\u0906\u0907\u0924","\u0938\u094B\u092E","\u092E\u0902\u0917\u0932","\u092C\u0941\u0927","\u092C\u093F\u0939\u093F","\u0936\u0941\u0915\u094D\u0930","\u0936\u0928\u093F"],P=["\u0906\u0907\u0924\u092C\u093E\u0930","\u0938\u094B\u092E\u092C\u093E\u0930","\u092E\u0902\u0917\u0932\u092C\u093E\u0930","\u092C\u0941\u0927\u092C\u093E\u0930","\u092C\u093F\u0939\u093F\u092C\u093E\u0930","\u0936\u0941\u0915\u094D\u0930\u092C\u093E\u0930","\u0936\u0928\u093F\u092C\u093E\u0930"],tt=/^(\d{1,4})[-/]?(\d{1,2})[-/]?(\d{1,4})(?:[Tt\s](\d{1,2}):?(\d{1,2}):?(\d{1,2}))?$/;var w=(e,t,s)=>{let r=G(e,t,s),i=4;return i=(i-2+r)%7+1,i},m=(e,t)=>{let s=e-2e3;return D[s]?.[t]??0},p=e=>e.reduce((t,s)=>t+s,0),K=e=>e%400===0||e%4===0&&e%100!==0,H=(e,t)=>(K(e)?T[t-1]:Y[t-1])??0,et=(e,t,s)=>{let r=0;for(let i=1944;i<e;i++)r+=p(K(i)?T:Y);return r+=p((K(e)?T:Y).slice(0,t-1)),r+s},G=(e,t,s)=>{let r=0;for(let n=2e3;n<e;n++){let a=n-2e3;r+=p(D[a]?.slice(1)??[])}let i=e-2e3;return r+=p(D[i]?.slice(1,t)??[]),r+s},st=e=>{let t=e.toString(),s="";for(let r of t)r>="0"&&r<="9"?s+=Z[parseInt(r)]??r:s+=r;return s};var v=(e,t,s=!1)=>{if(e.year()>t.year())return 1;if(e.year()<t.year())return-1;if(e.month()>t.month())return 1;if(e.month()<t.month())return-1;if(e.day()>t.day())return 1;if(e.day()<t.day())return-1;if(s){if(e.hour()>t.hour())return 1;if(e.hour()<t.hour())return-1;if(e.minute()>t.minute())return 1;if(e.minute()<t.minute())return-1}return 0};var $=e=>!(e>24||e<0),g=e=>!(e<0||e>59),C=e=>!(e<2e3||e>2e3+D.length-1),L=e=>!(e<1||e>12),U=(e,t,s)=>{let r=m(e,t);return!(s<1||s>r)},rt=(e,t,s)=>{if(e<1944||e>1944+D.length-1)throw new Error(`Supported AD years: ${1944}-${1944+D.length-1}`);if(!L(t))throw new Error(`Invalid month ${t}. Supported months: 1-12`);let r=H(e,t);if(s<1||s>r)throw new Error(`Invalid day ${s} for month ${t} in year ${e}`)},E=(e,t,s)=>{if(!C(e))throw new Error(`Supported BS years: ${2e3}-${2e3+D.length-1}`);if(!L(t))throw new Error(`Invalid month ${t}. Supported months: 1-12`);if(!U(e,t,s))throw new Error(`Invalid day ${s} for month ${t} in year ${e}`)};var it=(e,t,s)=>{rt(e,t,s);let r=et(e,t,s),i=2e3,n=9,a=16,u=6,c=0,h=n;for(;r>0;){let o=D[c]?.[h]??0;a++,u=u%7+1,a>o&&(n++,a=1,h++),n>12&&(i++,n=1),h>12&&(h=1,c++),r--}return[i,n,a,u]},nt=(e,t,s)=>{E(e,t,s);let r=G(e,t,s),i=1943,n=4,a=13,u=3;for(;r>0;){let c=H(i,n);a++,u=u%7+1,a>c&&(n++,a=1),n>12&&(i++,n=1),r--}return[i,n,a,u]},A=(e,t,s,r,i)=>{for(E(e,t,s);i>0;){let n=m(e,t);if(s+i<=n){s+=i,r=(r+i-1)%7+1,i=0;break}else{let a=n-s+1;s=1,t++,r=(r+a-1)%7+1,t>12&&(e++,t=1),i-=a}}return[e,t,s,r]},J=(e,t,s,r,i)=>{E(e,t,s);let n=0;for(let u=0;u<i;u++){let c=m(e,t);n+=c,t++,t>12&&(t=1,e++)}r=(r+n-1)%7+1;let a=m(e,t);return s>a&&(s=a),[e,t,s,r]},X=(e,t,s,r,i)=>{E(e,t,s);let n=0,a=e-2e3;n+=p(D[a].slice(t));for(let c=0;c<i;c++)n+=p(D[a+c].slice(1)),e++;r=(r+n-1)%7+1;let u=m(e,t);return s>u&&(s=u),[e,t,s,r]},x=(e,t,s,r,i)=>{for(E(e,t,s);i>0;)if(s>i){s-=i,r=(r-i-1+7)%7+1,i=0;break}else i-=s,t--,t<1&&(e--,t=12),r=(r-s-1+7)%7+1,s=m(e,t);return[e,t,s,r]},j=(e,t,s,r,i)=>{E(e,t,s);let n=0;for(let u=0;u<i;u++)t--,t<1&&(t=12,e--),n+=m(e,t);r=(r-n-1+7)%7+1;let a=m(e,t);return s>a&&(s=a),[e,t,s,r]},z=(e,t,s,r,i)=>{E(e,t,s);let n=0,a=e-2e3;n+=p(D[a].slice(1,t-1));for(let c=0;c<i;c++)n+=p(D[a-c].slice(1)),e--;r=(r-n-1+7)%7+1;let u=m(e,t);return s>u&&(s=u),[e,t,s,r]};var d=(e,t)=>{let s=String(e);return t==="np"?st(s):s},at=(e,t)=>{let s=(e-1+12)%12;return t==="np"?O[s]:N[s]},ot=(e,t)=>{let s=(e-1+12)%12;return t==="np"?k[s]:I[s]},ht=(e,t)=>{let s=(e-1+7)%7;return t==="np"?B[s]:R[s]},ut=(e,t)=>{let s=(e-1+7)%7;return t==="np"?P[s]:W[s]};function q(e,t,s="en"){let r=(n,a=2)=>String(n).padStart(a,"0"),i=n=>n%12||12;return t.replace(/((\\[MDYdHhmsa])|D{1,2}|M{1,4}|Y{2,4}|d{1,3}|H{1,2}|h{1,2}|m{1,2}|s{1,2}|A)/g,(n,a,u)=>{switch(n){case"D":return d(e.day.toString(),s);case"DD":return d(r(e.day),s);case"M":return d(e.month.toString(),s);case"MM":return d(r(e.month),s);case"MMM":return at(e.month,s);case"MMMM":return ot(e.month,s);case"YY":return d(e.year.toString().slice(-2),s);case"YYY":return d(e.year.toString().slice(-3),s);case"YYYY":return d(e.year.toString(),s);case"d":return d(e.dayOfWeek.toString(),s);case"dd":return ht(e.dayOfWeek,s);case"ddd":return ut(e.dayOfWeek,s);case"H":case"HH":return d(r(e.hour||0),s);case"h":case"hh":return d(r(i(e.hour||0)),s);case"m":case"mm":return d(r(e.minute||0),s);case"s":case"ss":return d(r(e.second||0),s);case"A":return(e.hour||0)<12?"AM":"PM";default:return u.replace("/","")}}).replace(/\\/g,"")}function F(e){let t=tt.exec(e);if(!t)return null;let[s,r="0",i="0",n="0",a="0",u="0",c="0"]=t,h=1,o=1,l=2e3;return r.length===4?(l=Number(r),o=Number(i),h=Number(n)):n.length===4?(h=Number(r),o=Number(i),l=Number(n)):(l=Number(n),o=Number(i),h=Number(r)),{year:Number(l),month:Number(o),day:Number(h),dayOfWeek:null,hour:Number(a),minute:Number(u),second:Number(c)}}var y=class e{constructor({year:t,month:s,day:r,dayOfWeek:i=null,hour:n=0,minute:a=0,second:u=0,locale:c="en"}){this._year=t,this._month=s,this._day=r,this._dayOfWeek=i??w(t,s,r),this._hour=n,this._minute=a,this._second=u,this._locale=c}static fromAd(t){let[s,r,i,n]=it(t.getFullYear(),t.getMonth()+1,t.getDate()),a=t.getHours(),u=t.getMinutes(),c=t.getSeconds();return new e({year:s,month:r,day:i,dayOfWeek:n,hour:a,minute:u,second:c})}static now(){return this.fromAd(new Date)}static parse(t){let s=F(t);if(s)try{return new e(s)}catch{throw new Error("Error on Date Parse")}else throw new Error("Invalid Date String")}toObject(){return{year:this._year,month:this._month,day:this._day,dayOfWeek:this._dayOfWeek,hour:this._hour,minute:this._minute,second:this._second}}toArray(t=!0,s=!1,r=!1){let i=[];return i.push(d(this._year,this._locale)),i.push(d(this._month,this._locale)),i.push(d(this._day,this._locale)),r&&i.push(d(this._dayOfWeek,this._locale)),t&&(i.push(d(this._hour,this._locale)),i.push(d(this._minute,this._locale)),s||i.push(d(this._second,this._locale))),i}toAd(){let[t,s,r,i]=nt(this._year,this._month,this._day);return new Date(t,s-1,r,this._hour,this._minute,this._second)}format(t="YYYY-MM-DD"){return q(this.toObject(),t,this._locale)}toString(){return this.format("YYYY-MM-DD HH:mm:ss A")}setLocale(t){if(typeof t!="string")throw new Error(`Invalid locale: ${t}. Locale must be a string.`);return this._locale=t==="np"?"np":"en",this}getLocale(){return this._locale}isBefore(t){return t instanceof e||(t=e.parse(t)),v(this,t)===-1}isAfter(t){return t instanceof e||(t=e.parse(t)),v(this,t)===1}isSame(t){return t instanceof e||(t=e.parse(t)),v(this,t)===0}isValid(){return C(this._year)&&L(this._month)&&U(this._year,this._month,this._day)&&$(this._hour)&&g(this._minute)&&g(this._second)}daysInMonth(){return m(this._year,this._month)}year(t){return t===void 0?this._year:new e({...this.toObject(),year:t,dayOfWeek:w(t,this._month,this._day)})}month(t){return t===void 0?this._month:new e({...this.toObject(),month:t,dayOfWeek:w(this._year,t,this._day)})}dayOfWeek(){return this._dayOfWeek}day(t){return t===void 0?this._day:new e({...this.toObject(),day:t,dayOfWeek:w(this._year,this._month,t)})}hour(t){if(t===void 0)return this._hour;if(!$(t))throw new Error("Invalid Hour");return new e({...this.toObject(),hour:t})}minute(t){if(t===void 0)return this._minute;if(!g(t))throw new Error("Invalid Minute");return new e({...this.toObject(),minute:t})}second(t){if(t===void 0)return this._second;if(!g(t))throw new Error("Invalid Second");return new e({...this.toObject(),second:t})}setYear(t){return this._dayOfWeek=w(t,this._month,this._day),this._year=t,this}setMonth(t){return this._dayOfWeek=w(this._year,t,this._day),this._month=t,this}setDay(t){return this._dayOfWeek=w(this._year,this._month,t),this._day=t,this}setHour(t){if(!$(t))throw new Error("Invalid Hour");return this._hour=t,this}setMinute(t){if(!g(t))throw new Error("Invalid Minute");return this._minute=t,this}setSecond(t){if(!g(t))throw new Error("Invalid Second");return this._second=t,this}add(t,s){let{year:r,month:i,day:n,hour:a,minute:u,dayOfWeek:c}=this.toObject();switch(s){case"year":{[r,i,n,c]=X(r,i,n,c,t);break}case"month":{[r,i,n,c]=J(r,i,n,c,t);break}case"week":{[r,i,n,c]=A(r,i,n,c,t*7);break}case"day":{[r,i,n,c]=A(r,i,n,c,t);break}case"hour":{for(a+=t;a>=24;)a-=24,[r,i,n,c]=A(r,i,n,c,1);for(;a<0;)a+=24,[r,i,n,c]=A(r,i,n,c,-1);break}case"minute":{for(u+=t;u>=60;)u-=60,a+=1;for(;u<0;)u+=60,a-=1;for(;a>=24;)a-=24,[r,i,n,c]=A(r,i,n,c,1);for(;a<0;)a+=24,[r,i,n,c]=A(r,i,n,c,-1);break}default:throw new Error(`Unsupported unit: ${s}`)}return new e({year:r,month:i,day:n,hour:a,minute:u,dayOfWeek:c})}subtract(t,s){let{year:r,month:i,day:n,dayOfWeek:a,hour:u,minute:c,second:h}=this.toObject();switch(s){case"year":{[r,i,n,a]=z(r,i,n,a,t);break}case"month":{[r,i,n,a]=j(r,i,n,a,t);break}case"week":{[r,i,n,a]=x(r,i,n,a,t*7);break}case"day":{[r,i,n,a]=x(r,i,n,a,t);break}case"hour":{for(u-=t;u<0;)u+=24,[r,i,n,a]=x(r,i,n,a,1);break}case"minute":{for(c-=t;c<0;)c+=60,u-=1;for(;u<0;)u+=24,[r,i,n,a]=x(r,i,n,a,1);break}default:throw new Error(`Unsupported unit: ${s}`)}return new e({year:r,month:i,day:n,dayOfWeek:a,hour:u,minute:c,second:h})}addDay(){return this.addDays(1)}addDays(t){if(!Number.isFinite(t))throw new Error(`Invalid argument: days must be a finite number, received ${t}`);return[this._year,this._month,this._day,this._dayOfWeek]=A(this._year,this._month,this._day,this._dayOfWeek,t),this}addMonth(){return this.addMonths(1)}addMonths(t){if(!Number.isFinite(t))throw new Error("Invalid argument: months must be a finite number");return[this._year,this._month,this._day,this._dayOfWeek]=J(this._year,this._month,this._day,this._dayOfWeek,t),this}addYear(){return this.addYears(1)}addYears(t){if(!Number.isFinite(t))throw new Error("Invalid argument: years must be a finite number");return[this._year,this._month,this._day,this._dayOfWeek]=X(this._year,this._month,this._day,this._dayOfWeek,t),this}subDay(){return this.subDays(1)}subDays(t){if(!Number.isFinite(t))throw new Error("Invalid argument: days must be a finite number");return[this._year,this._month,this._day,this._dayOfWeek]=x(this._year,this._month,this._day,this._dayOfWeek,t),this}subMonth(){return this.subMonths(1)}subMonths(t){if(!Number.isFinite(t))throw new Error("Invalid argument: months must be a finite number");return[this._year,this._month,this._day,this._dayOfWeek]=j(this._year,this._month,this._day,this._dayOfWeek,t),this}subYear(){return this.subYears(1)}subYears(t){if(!Number.isFinite(t))throw new Error("Invalid argument: years must be a finite number");return[this._year,this._month,this._day,this._dayOfWeek]=z(this._year,this._month,this._day,this._dayOfWeek,t),this}addWeek(){return this.addWeeks(1)}addWeeks(t){if(!Number.isFinite(t))throw new Error("Invalid argument: weeks must be a finite number");return[this._year,this._month,this._day,this._dayOfWeek]=A(this._year,this._month,this._day,this._dayOfWeek,t*7),this}subWeek(){return this.subWeeks(1)}subWeeks(t){if(!Number.isFinite(t))throw new Error("Invalid argument: weeks must be a finite number");return[this._year,this._month,this._day,this._dayOfWeek]=x(this._year,this._month,this._day,this._dayOfWeek,t*7),this}};var ct=e=>{if(!(e instanceof Date))throw new Error("Expected a Date instance for AD date");return y.fromAd(e)},S=(e=null)=>{if(e){if(e instanceof y)return new y(e.toObject());if(typeof e=="string"){let t=F(e);if(t)try{return new y(t)}catch{throw new Error("Error on Date Parse")}else throw new Error("Invalid Date String")}else throw new Error("Unsupported date")}return y.now()};S.fromAd=e=>{if(e instanceof Date)return ct(e);if(typeof e=="string"){let t=new Date(e);return ct(t)}else throw new Error("Unsupported date")};S.weekdaysShort=function(e="en"){return e==="np"?B:R};S.weekdays=function(e="en"){return e==="np"?P:W};S.months=function(e="en"){return e==="np"?k:I};S.monthsShort=function(e="en"){return e==="np"?O:N};S.minDate=function(e="en"){let t=new y({year:2e3,month:1,day:1,locale:e});if(!t.isValid())throw new Error("Error on retriving Min Date");return t};S.maxDate=function(e="en"){let t=2e3+D.length-1,s=new y({year:t,month:12,day:m(t,12),locale:e});if(!s.isValid())throw new Error("Error on retriving Max Date");return s};S.minYear=function(){return 2e3};S.maxYear=function(){return 2e3+D.length-1};S.isValid=function(e){if(e instanceof y)return e.isValid();throw typeof e=="string"?new Error("Feature Not Available in current version"):new Error("Unsupported date")};var f=S;function St({defaultFocusedDate:e,displayFormat:t,firstDayOfWeek:s,isAutofocused:r,locale:i,shouldCloseOnDateSelection:n,disableNavWhenOutOfRange:a,is12HourFormat:u,state:c}){return{daysInFocusedMonth:[],displayText:"",emptyDaysInFocusedMonth:[],focusedDate:null,focusedMonth:null,focusedYear:null,hour:null,isClearingState:!1,isPrevActive:!0,isNextActive:!0,minute:null,second:null,meridian:null,state:c,defaultFocusedDate:e,dayLabels:[],months:[],years:[],init(){this.$nextTick(()=>{this.focusedDate??(this.focusedDate=this.getDefaultFocusedDate()??f()),this.focusedMonth??(this.focusedMonth=this.focusedDate.month()),this.focusedYear??(this.focusedYear=this.focusedDate.year())});let h=this.getSelectedDate()??this.getDefaultFocusedDate()??f();this.dateIsInRange(h)||(h=null),this.hour=h?.hour()??0,this.minute=h?.minute()??0,this.second=h?.second()??0,u&&(this.hour>=12?(this.meridian="pm",this.hour>12&&(this.hour-=12)):(this.meridian="am",this.hour=this.hour===0?1:this.hour)),this.setDisplayText(),this.setMonths(),this.setYears(),this.setDayLabels(),r&&this.$nextTick(()=>this.togglePanelVisibility(this.$refs.button)),this.$watch("focusedMonth",()=>{this.focusedMonth=+this.focusedMonth,this.focusedDate.month()!==this.focusedMonth&&(this.focusedDate=this.focusedDate.month(this.focusedMonth))}),this.$watch("focusedYear",()=>{if(this.focusedYear?.length>4&&(this.focusedYear=this.focusedYear.substring(0,4)),!this.focusedYear||this.focusedYear?.length!==4)return;let o=+this.focusedYear;Number.isInteger(o)||(o=f().year(),this.focusedYear=o),this.focusedDate.year()!==o&&(this.focusedDate=this.focusedDate.year(o))}),this.$watch("focusedDate",()=>{let o=this.focusedDate.month(),l=this.focusedDate.year();this.focusedMonth!==o&&(this.focusedMonth=o),this.focusedYear!==l&&(this.focusedYear=l),a&&this.checkDateRange(),this.setupDaysGrid()}),this.$watch("hour",()=>{let o=+this.hour;if(Number.isInteger(o)?u&&(o>12||o<1)?this.hour=1:!u&&(o>23||o<0)&&(this.hour=0):this.hour=u?1:0,this.isClearingState)return;let l=this.getSelectedDate()??this.focusedDate,M=this.hour;u&&(this.meridian==="pm"&&M!==12&&(M+=12),this.meridian==="am"&&M===12&&(M=0)),this.setState(l.hour(M))}),this.$watch("minute",()=>{let o=+this.minute;if(Number.isInteger(o)?o>59?this.minute=0:o<0?this.minute=59:this.minute=o:this.minute=0,this.isClearingState)return;let l=this.getSelectedDate()??this.focusedDate;this.setState(l.minute(this.minute??0))}),this.$watch("second",()=>{let o=+this.second;if(Number.isInteger(o)?o>59?this.second=0:o<0?this.second=59:this.second=o:this.second=0,this.isClearingState)return;let l=this.getSelectedDate()??this.focusedDate;this.setState(l.second(this.second??0))}),this.$watch("meridian",()=>{if(!u||this.isClearingState)return;let o=this.hour;this.meridian==="pm"&&o!==12&&(o+=12),this.meridian==="am"&&o===12&&(o=0),this.setState(h.hour(o))}),this.$watch("state",()=>{if(this.state===void 0)return;let o=this.getSelectedDate();if(o===null){this.clearState();return}this.dateIsInRange(o)||(o=null);let l=o?.hour()??0;u?(this.meridian=l>=12?"pm":"am",this.hour=l%12||1):this.hour!==l&&(this.hour=l);let M=o?.minute()??0;this.minute!==M&&(this.minute=M);let Q=o?.second()??0;this.second!==Q&&(this.second=Q),this.setDisplayText()})},toNumber(h){return d(h,i)},clearState(){this.isClearingState=!0,this.setState(null),this.hour=u?1:0,this.minute=0,this.second=0,u&&(this.meridian="am"),this.$nextTick(()=>this.isClearingState=!1)},dateIsDisabled(h){return!!(this.$refs?.disabledDates&&JSON.parse(this.$refs.disabledDates.value??[]).some(o=>(o=f(o),o.isValid()?o.isSame(h):!1))||this.getMaxDate()&&h.isAfter(this.getMaxDate())||this.getMinDate()&&h.isBefore(this.getMinDate()))},dateIsInRange(h){return!(this.getMaxDate()!==null&&h?.isAfter(this.getMaxDate())||this.getMinDate()!==null&&h?.isBefore(this.getMinDate()))},dayIsDisabled(h){return this.focusedDate??(this.focusedDate=f()),this.dateIsDisabled(this.focusedDate.day(h))},dayIsSelected(h){let o=this.getSelectedDate();return o===null?!1:(this.focusedDate??(this.focusedDate=f()),o.day()===h&&o.month()===this.focusedDate.month()&&o.year()===this.focusedDate.year())},dayIsToday(h){let o=f();return this.focusedDate??(this.focusedDate=o),o.day()===h&&o.month()===this.focusedDate.month()&&o.year()===this.focusedDate.year()},focusPreviousDay(){this.focusedDate??(this.focusedDate=f()),!(a&&!this.dateIsInRange(this.focusedDate.subtract(1,"day")))&&this.focusedDate.subDay()},focusPreviousWeek(){this.focusedDate??(this.focusedDate=f()),!(a&&!this.dateIsInRange(this.focusedDate.subtract(1,"week")))&&this.focusedDate.subWeek()},focusPreviousMonth(){this.focusedDate??(this.focusedDate=f()),!(a&&!this.dateIsInRange(this.focusedDate.subtract(1,"month")))&&this.focusedDate.subMonth()},focusPreviousYear(){this.focusedDate??(this.focusedDate=f()),!(a&&!this.dateIsInRange(this.focusedDate.subtract(1,"year")))&&this.focusedDate.subYear()},focusNextDay(){this.focusedDate??(this.focusedDate=f()),!(a&&!this.dateIsInRange(this.focusedDate.add(1,"day")))&&this.focusedDate.addDay()},focusNextWeek(){this.focusedDate??(this.focusedDate=f()),!(a&&!this.dateIsInRange(this.focusedDate.add(1,"week")))&&this.focusedDate.addWeek()},focusNextMonth(){this.focusedDate??(this.focusedDate=f()),!(a&&!this.dateIsInRange(this.focusedDate.add(1,"month")))&&this.focusedDate.addMonth()},focusNextYear(){this.focusedDate??(this.focusedDate=f()),!(a&&!this.dateIsInRange(this.focusedDate.add(1,"year")))&&this.focusedDate.addYear()},focusStartOfWeek(){this.focusedDate??(this.focusedDate=f()),!(a&&!this.dateIsInRange(this.focusedDate.subtract(this.focusedDate.dayOfWeek()-1,"week")))&&this.focusedDate.subDays(this.focusedDate.dayOfWeek()-1)},focusEndOfWeek(){this.focusedDate??(this.focusedDate=f()),!(a&&!this.dateIsInRange(this.focusedDate.add(7-this.focusedDate.dayOfWeek(),"week")))&&this.focusedDate.addDays(7-this.focusedDate.dayOfWeek())},getDayLabels(){let h=f.weekdaysShort(i);return s===1?h:[...h.slice(s-1),...h.slice(0,s-1)]},getMaxDate(){let h=f.maxDate(i);return this.$refs.maxDate.value&&(h=f(this.$refs.maxDate.value)),h.isValid()?h:null},getMinDate(){let h=f.minDate(i);return this.$refs.minDate?.value&&(h=f(this.$refs.minDate.value)),h.isValid()?h:null},getSelectedDate(){if(this.state===void 0||this.state===null)return null;let h=f(this.state);return h.isValid()?h:null},getDefaultFocusedDate(){if(this.defaultFocusedDate===null)return null;let h=f(this.defaultFocusedDate);return h.isValid()?h:null},togglePanelVisibility(){this.isOpen()||(this.focusedDate=this.getSelectedDate()??this.focusedDate??this.getMinDate()??f(),this.setupDaysGrid()),this.$refs.panel.toggle(this.$refs.button)},selectDate(h=null){h&&this.setFocusedDay(h),this.focusedDate??(this.focusedDate=f()),this.setState(this.focusedDate),n&&this.togglePanelVisibility()},setDisplayText(){this.displayText=this.getSelectedDate()?this.getSelectedDate().setLocale(i).format(t):""},setYears(){this.years=Array.from({length:f.maxYear()-f.minYear()+1},(h,o)=>f.minYear()+o)},setMonths(){this.months=f.months(i)},setDayLabels(){this.dayLabels=this.getDayLabels()},checkDateRange(){let h=this.focusedDate.add(1,"month"),o=this.focusedDate.subtract(1,"month");this.isNextActive=!0,this.isPrevActive=!0,this.dateIsInRange(h)||(this.isNextActive=!1),this.dateIsInRange(o)||(this.isPrevActive=!1)},setupDaysGrid(){this.focusedDate??(this.focusedDate=f()),this.emptyDaysInFocusedMonth=Array.from({length:this.focusedDate.day(8-s).dayOfWeek()},(h,o)=>o+1),this.daysInFocusedMonth=Array.from({length:this.focusedDate.daysInMonth()},(h,o)=>o+1)},setFocusedDay(h){this.focusedDate=(this.focusedDate??f()).day(h)},setState(h){if(h===null){this.state=null,this.setDisplayText();return}if(this.dateIsDisabled(h))return;let o=this.hour??0;u&&(this.meridian==="pm"&&o!==12&&(o+=12),this.meridian==="am"&&o===12&&(o=0)),this.state=h.hour(o).minute(this.minute??0).second(this.second??0).format("YYYY-MM-DD HH:mm:ss"),this.setDisplayText()},isOpen(){return this.$refs.panel?.style.display==="block"}}}export{St as default};
