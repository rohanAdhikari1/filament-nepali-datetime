var f=[[2e3,30,32,31,32,31,30,30,30,29,30,29,31],[2001,31,31,32,31,31,31,30,29,30,29,30,30],[2002,31,31,32,32,31,30,30,29,30,29,30,30],[2003,31,32,31,32,31,30,30,30,29,29,30,31],[2004,30,32,31,32,31,30,30,30,29,30,29,31],[2005,31,31,32,31,31,31,30,29,30,29,30,30],[2006,31,31,32,32,31,30,30,29,30,29,30,30],[2007,31,32,31,32,31,30,30,30,29,29,30,31],[2008,31,31,31,32,31,31,29,30,30,29,29,31],[2009,31,31,32,31,31,31,30,29,30,29,30,30],[2010,31,31,32,32,31,30,30,29,30,29,30,30],[2011,31,32,31,32,31,30,30,30,29,29,30,31],[2012,31,31,31,32,31,31,29,30,30,29,30,30],[2013,31,31,32,31,31,31,30,29,30,29,30,30],[2014,31,31,32,32,31,30,30,29,30,29,30,30],[2015,31,32,31,32,31,30,30,30,29,29,30,31],[2016,31,31,31,32,31,31,29,30,30,29,30,30],[2017,31,31,32,31,31,31,30,29,30,29,30,30],[2018,31,32,31,32,31,30,30,29,30,29,30,30],[2019,31,32,31,32,31,30,30,30,29,30,29,31],[2020,31,31,31,32,31,31,30,29,30,29,30,30],[2021,31,31,32,31,31,31,30,29,30,29,30,30],[2022,31,32,31,32,31,30,30,30,29,29,30,30],[2023,31,32,31,32,31,30,30,30,29,30,29,31],[2024,31,31,31,32,31,31,30,29,30,29,30,30],[2025,31,31,32,31,31,31,30,29,30,29,30,30],[2026,31,32,31,32,31,30,30,30,29,29,30,31],[2027,30,32,31,32,31,30,30,30,29,30,29,31],[2028,31,31,32,31,31,31,30,29,30,29,30,30],[2029,31,31,32,31,32,30,30,29,30,29,30,30],[2030,31,32,31,32,31,30,30,30,29,29,30,31],[2031,30,32,31,32,31,30,30,30,29,30,29,31],[2032,31,31,32,31,31,31,30,29,30,29,30,30],[2033,31,31,32,32,31,30,30,29,30,29,30,30],[2034,31,32,31,32,31,30,30,30,29,29,30,31],[2035,30,32,31,32,31,31,29,30,30,29,29,31],[2036,31,31,32,31,31,31,30,29,30,29,30,30],[2037,31,31,32,32,31,30,30,29,30,29,30,30],[2038,31,32,31,32,31,30,30,30,29,29,30,31],[2039,31,31,31,32,31,31,29,30,30,29,30,30],[2040,31,31,32,31,31,31,30,29,30,29,30,30],[2041,31,31,32,32,31,30,30,29,30,29,30,30],[2042,31,32,31,32,31,30,30,30,29,29,30,31],[2043,31,31,31,32,31,31,29,30,30,29,30,30],[2044,31,31,32,31,31,31,30,29,30,29,30,30],[2045,31,32,31,32,31,30,30,29,30,29,30,30],[2046,31,32,31,32,31,30,30,30,29,29,30,31],[2047,31,31,31,32,31,31,30,29,30,29,30,30],[2048,31,31,32,31,31,31,30,29,30,29,30,30],[2049,31,32,31,32,31,30,30,30,29,29,30,30],[2050,31,32,31,32,31,30,30,30,29,30,29,31],[2051,31,31,31,32,31,31,30,29,30,29,30,30],[2052,31,31,32,31,31,31,30,29,30,29,30,30],[2053,31,32,31,32,31,30,30,30,29,29,30,30],[2054,31,32,31,32,31,30,30,30,29,30,29,31],[2055,31,31,32,31,31,31,30,29,30,29,30,30],[2056,31,31,32,31,32,30,30,29,30,29,30,30],[2057,31,32,31,32,31,30,30,30,29,29,30,31],[2058,30,32,31,32,31,30,30,30,29,30,29,31],[2059,31,31,32,31,31,31,30,29,30,29,30,30],[2060,31,31,32,32,31,30,30,29,30,29,30,30],[2061,31,32,31,32,31,30,30,30,29,29,30,31],[2062,30,32,31,32,31,31,29,30,29,30,29,31],[2063,31,31,32,31,31,31,30,29,30,29,30,30],[2064,31,31,32,32,31,30,30,29,30,29,30,30],[2065,31,32,31,32,31,30,30,30,29,29,30,31],[2066,31,31,31,32,31,31,29,30,30,29,29,31],[2067,31,31,32,31,31,31,30,29,30,29,30,30],[2068,31,31,32,32,31,30,30,29,30,29,30,30],[2069,31,32,31,32,31,30,30,30,29,29,30,31],[2070,31,31,31,32,31,31,29,30,30,29,30,30],[2071,31,31,32,31,31,31,30,29,30,29,30,30],[2072,31,32,31,32,31,30,30,29,30,29,30,30],[2073,31,32,31,32,31,30,30,30,29,29,30,31],[2074,31,31,31,32,31,31,30,29,30,29,30,30],[2075,31,31,32,31,31,31,30,29,30,29,30,30],[2076,31,32,31,32,31,30,30,30,29,29,30,30],[2077,31,32,31,32,31,30,30,30,29,30,29,31],[2078,31,31,31,32,31,31,30,29,30,29,30,30],[2079,31,31,32,31,31,31,30,29,30,29,30,30],[2080,31,32,31,32,31,30,30,30,29,29,30,30],[2081,31,32,31,32,31,30,30,30,29,30,29,31],[2082,31,31,32,31,31,31,30,29,30,29,30,30],[2083,31,31,32,31,31,31,30,29,30,29,30,30],[2084,31,31,32,31,31,30,30,30,29,30,30,30],[2085,31,32,31,32,30,31,30,30,29,30,30,30],[2086,30,32,31,32,31,30,30,30,29,30,30,30],[2087,31,31,32,31,31,31,30,30,29,30,30,30],[2088,30,31,32,32,30,31,30,30,29,30,30,30],[2089,30,32,31,32,31,30,30,30,29,30,30,30],[2090,30,32,31,32,31,30,30,30,29,30,30,30],[2091,31,31,32,31,31,31,30,30,29,30,30,30],[2092,30,31,32,32,31,30,30,30,29,30,30,30],[2093,31,31,32,31,31,30,30,30,29,30,30,30],[2094,31,31,32,31,31,30,30,30,29,30,30,30],[2095,31,31,32,31,31,31,30,29,30,30,30,30],[2096,30,31,32,32,31,30,30,29,30,29,30,30],[2097,31,32,31,32,31,30,30,30,29,30,30,30],[2098,31,31,32,31,31,31,29,30,29,30,29,31],[2099,31,31,32,31,31,31,30,29,29,30,30,30]],b=[31,28,31,30,31,30,31,31,30,31,30,31],Y=[31,29,31,30,31,30,31,31,30,31,30,31],N=["Baisakh","Jestha","Asar","Shrawan","Bhadra","Aswin","Kartik","Mangsir","Poush","Magh","Falgun","Chaitra"],T=["Bai","Jes","Asa","Shr","Bhd","Asw","Kar","Man","Pou","Mag","Fal","Cha"],O=["\u092C\u0948\u0936\u093E\u0916","\u091C\u0947\u0920","\u0905\u0938\u093E\u0930","\u0936\u094D\u0930\u093E\u0935\u0923","\u092D\u093E\u0926\u094D\u0930","\u0906\u0936\u094D\u0935\u093F\u0928","\u0915\u093E\u0930\u094D\u0924\u093F\u0915","\u092E\u0902\u0938\u093F\u0930","\u092A\u094C\u0937","\u092E\u093E\u0918","\u092B\u093E\u0932\u094D\u0917\u0941\u0923","\u091A\u0948\u0924\u094D\u0930"],I=["\u092C\u0948","\u091C\u0947","\u0905","\u0936\u094D\u0930\u093E","\u092D\u093E","\u0906","\u0915\u093E","\u092E\u0902","\u092A\u094C","\u092E\u093E","\u092B\u093E","\u091A\u0948"],Q=["\u0966","\u0967","\u0968","\u0969","\u096A","\u096B","\u096C","\u096D","\u096E","\u096F"],k=["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],W=["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],H=["\u0906\u0907\u0924","\u0938\u094B\u092E","\u092E\u0902\u0917\u0932","\u092C\u0941\u0927","\u092C\u093F\u0939\u093F","\u0936\u0941\u0915\u094D\u0930","\u0936\u0928\u093F"],B=["\u0906\u0907\u0924\u092C\u093E\u0930","\u0938\u094B\u092E\u092C\u093E\u0930","\u092E\u0902\u0917\u0932\u092C\u093E\u0930","\u092C\u0941\u0927\u092C\u093E\u0930","\u092C\u093F\u0939\u093F\u092C\u093E\u0930","\u0936\u0941\u0915\u094D\u0930\u092C\u093E\u0930","\u0936\u0928\u093F\u092C\u093E\u0930"],Z=/^(\d{1,4})[-/]?(\d{1,2})[-/]?(\d{1,4})(?:[Tt\s](\d{1,2}):?(\d{1,2}):?(\d{1,2}))?$/;var A=(e,t,s)=>{let r=V(e,t,s),n=4;return n=(n-2+r)%7+1,n},_=(e,t)=>{let s=e-2e3;return f[s]?.[t]??0},S=e=>e.reduce((t,s)=>t+s,0),L=e=>e%400===0||e%4===0&&e%100!==0,R=(e,t)=>(L(e)?Y[t-1]:b[t-1])??0,j=(e,t,s)=>{let r=0;for(let n=1944;n<e;n++)r+=S(L(n)?Y:b);return r+=S((L(e)?Y:b).slice(0,t-1)),r+s},V=(e,t,s)=>{let r=0;for(let a=2e3;a<e;a++){let h=a-2e3;r+=S(f[h]?.slice(1)??[])}let n=e-2e3;return r+=S(f[n]?.slice(1,t)??[]),r+s},tt=e=>{let t=e.toString(),s="";for(let r of t)r>="0"&&r<="9"?s+=Q[parseInt(r)]??r:s+=r;return s};var P=(e,t,s=!1)=>{if(e.year()>t.year())return 1;if(e.year()<t.year())return-1;if(e.month()>t.month())return 1;if(e.month()<t.month())return-1;if(e.day()>t.day())return 1;if(e.day()<t.day())return-1;if(s){if(e.hour()>t.hour())return 1;if(e.hour()<t.hour())return-1;if(e.minute()>t.minute())return 1;if(e.minute()<t.minute())return-1}return 0};var v=e=>!(e>24||e<0),E=e=>!(e<0||e>59),G=e=>!(e<2e3||e>2e3+f.length-1),$=e=>!(e<1||e>12),C=(e,t,s)=>{let r=_(e,t);return!(s<1||s>r)},et=(e,t,s)=>{if(e<1944||e>1944+f.length-1)throw new Error(`Supported AD years: ${1944}-${1944+f.length-1}`);if(!$(t))throw new Error(`Invalid month ${t}. Supported months: 1-12`);let r=R(e,t);if(s<1||s>r)throw new Error(`Invalid day ${s} for month ${t} in year ${e}`)},M=(e,t,s)=>{if(!G(e))throw new Error(`Supported BS years: ${2e3}-${2e3+f.length-1}`);if(!$(t))throw new Error(`Invalid month ${t}. Supported months: 1-12`);if(!C(e,t,s))throw new Error(`Invalid day ${s} for month ${t} in year ${e}`)};var st=(e,t,s)=>{et(e,t,s);let r=j(e,t,s),n=2e3,a=9,h=16,o=6,i=0,c=a;for(;r>0;){let y=f[i]?.[c]??0;h++,o=o%7+1,h>y&&(a++,h=1,c++),a>12&&(n++,a=1),c>12&&(c=1,i++),r--}return[n,a,h,o]},rt=(e,t,s)=>{M(e,t,s);let r=V(e,t,s),n=1943,a=4,h=13,o=3;for(;r>0;){let i=R(n,a);h++,o=o%7+1,h>i&&(a++,h=1),a>12&&(n++,a=1),r--}return[n,a,h,o]},p=(e,t,s,r,n)=>{for(M(e,t,s);n>0;){let a=_(e,t);if(s+n<=a){s+=n,r=(r+n-1)%7+1,n=0;break}else{let h=a-s+1;s=1,t++,r=(r+h-1)%7+1,t>12&&(e++,t=1),n-=h}}return[e,t,s,r]},U=(e,t,s,r,n)=>{M(e,t,s);let a=0;for(let o=0;o<n;o++){let i=_(e,t);a+=i,t++,t>12&&(t=1,e++)}r=(r+a-1)%7+1;let h=_(e,t);return s>h&&(s=h),[e,t,s,r]},J=(e,t,s,r,n)=>{M(e,t,s);let a=0,h=e-2e3;a+=S(f[h].slice(t));for(let i=0;i<n;i++)a+=S(f[h+i].slice(1)),e++;r=(r+a-1)%7+1;let o=_(e,t);return s>o&&(s=o),[e,t,s,r]},g=(e,t,s,r,n)=>{for(M(e,t,s);n>0;)if(s>n){s-=n,r=(r-n-1+7)%7+1,n=0;break}else n-=s,t--,t<1&&(e--,t=12),r=(r-s-1+7)%7+1,s=_(e,t);return[e,t,s,r]},X=(e,t,s,r,n)=>{M(e,t,s);let a=0;for(let o=0;o<n;o++)t--,t<1&&(t=12,e--),a+=_(e,t);r=(r-a-1+7)%7+1;let h=_(e,t);return s>h&&(s=h),[e,t,s,r]},z=(e,t,s,r,n)=>{M(e,t,s);let a=0,h=e-2e3;a+=S(f[h].slice(1,t-1));for(let i=0;i<n;i++)a+=S(f[h-i].slice(1)),e--;r=(r-a-1+7)%7+1;let o=_(e,t);return s>o&&(s=o),[e,t,s,r]};var l=(e,t)=>{let s=String(e);return t==="np"?tt(s):s},it=(e,t)=>{let s=(e-1+12)%12;return t==="np"?I[s]:T[s]},nt=(e,t)=>{let s=(e-1+12)%12;return t==="np"?O[s]:N[s]},ot=(e,t)=>{let s=(e-1+7)%7;return t==="np"?H[s]:k[s]},at=(e,t)=>{let s=(e-1+7)%7;return t==="np"?B[s]:W[s]};function q(e,t,s="en"){let r=(a,h=2)=>String(a).padStart(h,"0"),n=a=>a%12||12;return t.replace(/((\\[MDYdHhmsa])|D{1,2}|M{1,4}|Y{2,4}|d{1,3}|H{1,2}|h{1,2}|m{1,2}|s{1,2}|A)/g,(a,h,o)=>{switch(a){case"D":return l(e.day.toString(),s);case"DD":return l(r(e.day),s);case"M":return l(e.month.toString(),s);case"MM":return l(r(e.month),s);case"MMM":return it(e.month,s);case"MMMM":return nt(e.month,s);case"YY":return l(e.year.toString().slice(-2),s);case"YYY":return l(e.year.toString().slice(-3),s);case"YYYY":return l(e.year.toString(),s);case"d":return l(e.dayOfWeek.toString(),s);case"dd":return ot(e.dayOfWeek,s);case"ddd":return at(e.dayOfWeek,s);case"H":case"HH":return l(r(e.hour||0),s);case"h":case"hh":return l(r(n(e.hour||0)),s);case"m":case"mm":return l(r(e.minute||0),s);case"s":case"ss":return l(r(e.second||0),s);case"A":return(e.hour||0)<12?"AM":"PM";default:return o.replace("/","")}}).replace(/\\/g,"")}function F(e){let t=Z.exec(e);if(!t)return null;let[s,r="0",n="0",a="0",h="0",o="0",i="0"]=t,c=1,y=1,w=2e3;return r.length===4?(w=Number(r),y=Number(n),c=Number(a)):a.length===4?(c=Number(r),y=Number(n),w=Number(a)):(w=Number(a),y=Number(n),c=Number(r)),{year:Number(w),month:Number(y),day:Number(c),dayOfWeek:null,hour:Number(h),minute:Number(o),second:Number(i)}}var D=class e{constructor({year:t,month:s,day:r,dayOfWeek:n=null,hour:a=0,minute:h=0,second:o=0,locale:i="en"}){this._year=t,this._month=s,this._day=r,this._dayOfWeek=n??A(t,s,r),this._hour=a,this._minute=h,this._second=o,this._locale=i}static fromAd(t){let[s,r,n,a]=st(t.getFullYear(),t.getMonth()+1,t.getDate()),h=t.getHours(),o=t.getMinutes(),i=t.getSeconds();return new e({year:s,month:r,day:n,dayOfWeek:a,hour:h,minute:o,second:i})}static now(){return this.fromAd(new Date)}static parse(t){let s=F(t);if(s)try{return new e(s)}catch{throw new Error("Error on Date Parse")}else throw new Error("Invalid Date String")}toObject(){return{year:this._year,month:this._month,day:this._day,dayOfWeek:this._dayOfWeek,hour:this._hour,minute:this._minute,second:this._second}}toArray(t=!0,s=!1,r=!1){let n=[];return n.push(l(this._year,this._locale)),n.push(l(this._month,this._locale)),n.push(l(this._day,this._locale)),r&&n.push(l(this._dayOfWeek,this._locale)),t&&(n.push(l(this._hour,this._locale)),n.push(l(this._minute,this._locale)),s||n.push(l(this._second,this._locale))),n}toAd(){let[t,s,r,n]=rt(this._year,this._month,this._day);return new Date(t,s-1,r,this._hour,this._minute,this._second)}format(t="YYYY-MM-DD"){return q(this.toObject(),t,this._locale)}toString(){return this.format("YYYY-MM-DD HH:mm:ss A")}setLocale(t){if(typeof t!="string")throw new Error(`Invalid locale: ${t}. Locale must be a string.`);return this._locale=t==="np"?"np":"en",this}getLocale(){return this._locale}isBefore(t){return t instanceof e||(t=e.parse(t)),P(this,t)===-1}isAfter(t){return t instanceof e||(t=e.parse(t)),P(this,t)===1}isSame(t){return t instanceof e||(t=e.parse(t)),P(this,t)===0}isValid(){return G(this._year)&&$(this._month)&&C(this._year,this._month,this._day)&&v(this._hour)&&E(this._minute)&&E(this._second)}daysInMonth(){return _(this._year,this._month)}year(t){return t===void 0?this._year:new e({...this.toObject(),year:t,dayOfWeek:A(t,this._month,this._day)})}month(t){return t===void 0?this._month:new e({...this.toObject(),month:t,dayOfWeek:A(this._year,t,this._day)})}dayOfWeek(){return this._dayOfWeek}day(t){return t===void 0?this._day:new e({...this.toObject(),day:t,dayOfWeek:A(this._year,this._month,t)})}hour(t){if(t===void 0)return this._hour;if(!v(t))throw new Error("Invalid Hour");return new e({...this.toObject(),hour:t})}minute(t){if(t===void 0)return this._minute;if(!E(t))throw new Error("Invalid Minute");return new e({...this.toObject(),minute:t})}second(t){if(t===void 0)return this._second;if(!E(t))throw new Error("Invalid Second");return new e({...this.toObject(),second:t})}setYear(t){return this._dayOfWeek=A(t,this._month,this._day),this._year=t,this}setMonth(t){return this._dayOfWeek=A(this._year,t,this._day),this._month=t,this}setDay(t){return this._dayOfWeek=A(this._year,this._month,t),this._day=t,this}setHour(t){if(!v(t))throw new Error("Invalid Hour");return this._hour=t,this}setMinute(t){if(!E(t))throw new Error("Invalid Minute");return this._minute=t,this}setSecond(t){if(!E(t))throw new Error("Invalid Second");return this._second=t,this}add(t,s){let{year:r,month:n,day:a,hour:h,minute:o,dayOfWeek:i}=this.toObject();switch(s){case"year":{[r,n,a,i]=J(r,n,a,i,t);break}case"month":{[r,n,a,i]=U(r,n,a,i,t);break}case"week":{[r,n,a,i]=p(r,n,a,i,t*7);break}case"day":{[r,n,a,i]=p(r,n,a,i,t);break}case"hour":{for(h+=t;h>=24;)h-=24,[r,n,a,i]=p(r,n,a,i,1);for(;h<0;)h+=24,[r,n,a,i]=p(r,n,a,i,-1);break}case"minute":{for(o+=t;o>=60;)o-=60,h+=1;for(;o<0;)o+=60,h-=1;for(;h>=24;)h-=24,[r,n,a,i]=p(r,n,a,i,1);for(;h<0;)h+=24,[r,n,a,i]=p(r,n,a,i,-1);break}default:throw new Error(`Unsupported unit: ${s}`)}return new e({year:r,month:n,day:a,hour:h,minute:o,dayOfWeek:i})}subtract(t,s){let{year:r,month:n,day:a,dayOfWeek:h,hour:o,minute:i,second:c}=this.toObject();switch(s){case"year":{[r,n,a,h]=z(r,n,a,h,t);break}case"month":{[r,n,a,h]=X(r,n,a,h,t);break}case"week":{[r,n,a,h]=g(r,n,a,h,t*7);break}case"day":{[r,n,a,h]=g(r,n,a,h,t);break}case"hour":{for(o-=t;o<0;)o+=24,[r,n,a,h]=g(r,n,a,h,1);break}case"minute":{for(i-=t;i<0;)i+=60,o-=1;for(;o<0;)o+=24,[r,n,a,h]=g(r,n,a,h,1);break}default:throw new Error(`Unsupported unit: ${s}`)}return new e({year:r,month:n,day:a,dayOfWeek:h,hour:o,minute:i,second:c})}addDay(){return this.addDays(1)}addDays(t){if(!Number.isFinite(t))throw new Error(`Invalid argument: days must be a finite number, received ${t}`);return[this._year,this._month,this._day,this._dayOfWeek]=p(this._year,this._month,this._day,this._dayOfWeek,t),this}addMonth(){return this.addMonths(1)}addMonths(t){if(!Number.isFinite(t))throw new Error("Invalid argument: months must be a finite number");return[this._year,this._month,this._day,this._dayOfWeek]=U(this._year,this._month,this._day,this._dayOfWeek,t),this}addYear(){return this.addYears(1)}addYears(t){if(!Number.isFinite(t))throw new Error("Invalid argument: years must be a finite number");return[this._year,this._month,this._day,this._dayOfWeek]=J(this._year,this._month,this._day,this._dayOfWeek,t),this}subDay(){return this.subDays(1)}subDays(t){if(!Number.isFinite(t))throw new Error("Invalid argument: days must be a finite number");return[this._year,this._month,this._day,this._dayOfWeek]=g(this._year,this._month,this._day,this._dayOfWeek,t),this}subMonth(){return this.subMonths(1)}subMonths(t){if(!Number.isFinite(t))throw new Error("Invalid argument: months must be a finite number");return[this._year,this._month,this._day,this._dayOfWeek]=X(this._year,this._month,this._day,this._dayOfWeek,t),this}subYear(){return this.subYears(1)}subYears(t){if(!Number.isFinite(t))throw new Error("Invalid argument: years must be a finite number");return[this._year,this._month,this._day,this._dayOfWeek]=z(this._year,this._month,this._day,this._dayOfWeek,t),this}addWeek(){return this.addWeeks(1)}addWeeks(t){if(!Number.isFinite(t))throw new Error("Invalid argument: weeks must be a finite number");return[this._year,this._month,this._day,this._dayOfWeek]=p(this._year,this._month,this._day,this._dayOfWeek,t*7),this}subWeek(){return this.subWeeks(1)}subWeeks(t){if(!Number.isFinite(t))throw new Error("Invalid argument: weeks must be a finite number");return[this._year,this._month,this._day,this._dayOfWeek]=g(this._year,this._month,this._day,this._dayOfWeek,t*7),this}};var ht=e=>{if(!(e instanceof Date))throw new Error("Expected a Date instance for AD date");return D.fromAd(e)},m=(e=null)=>{if(e){if(e instanceof D)return new D(e.toObject());if(typeof e=="string"){let t=F(e);if(t)try{return new D(t)}catch{throw new Error("Error on Date Parse")}else throw new Error("Invalid Date String")}else throw new Error("Unsupported date")}return D.now()};m.fromAd=e=>{if(e instanceof Date)return ht(e);if(typeof e=="string"){let t=new Date(e);return ht(t)}else throw new Error("Unsupported date")};m.weekdaysShort=function(e="en"){return e==="np"?H:k};m.weekdays=function(e="en"){return e==="np"?B:W};m.months=function(e="en"){return e==="np"?O:N};m.monthsShort=function(e="en"){return e==="np"?I:T};m.minDate=function(e="en"){let t=new D({year:2e3,month:1,day:1,locale:e});if(!t.isValid())throw new Error("Error on retriving Min Date");return t};m.maxDate=function(e="en"){let t=2e3+f.length-1,s=new D({year:t,month:12,day:_(t,12),locale:e});if(!s.isValid())throw new Error("Error on retriving Max Date");return s};m.minYear=function(){return 2e3};m.maxYear=function(){return 2e3+f.length-1};m.isValid=function(e){if(e instanceof D)return e.isValid();throw typeof e=="string"?new Error("Feature Not Available in current version"):new Error("Unsupported date")};var u=m;function mt({defaultFocusedDate:e,displayFormat:t,firstDayOfWeek:s,isAutofocused:r,locale:n,shouldCloseOnDateSelection:a,state:h}){return{daysInFocusedMonth:[],displayText:"",emptyDaysInFocusedMonth:[],focusedDate:null,focusedMonth:null,focusedYear:null,hour:null,isClearingState:!1,minute:null,second:null,state:h,defaultFocusedDate:e,dayLabels:[],months:[],years:[],init(){this.$nextTick(()=>{this.focusedDate??(this.focusedDate=this.getDefaultFocusedDate()??u()),this.focusedMonth??(this.focusedMonth=this.focusedDate.month()),this.focusedYear??(this.focusedYear=this.focusedDate.year())});let o=this.getSelectedDate()??this.getDefaultFocusedDate()??u();(this.getMaxDate()!==null&&o.isAfter(this.getMaxDate())||this.getMinDate()!==null&&o.isBefore(this.getMinDate()))&&(o=null),this.hour=o?.hour()??0,this.minute=o?.minute()??0,this.second=o?.second()??0,this.setDisplayText(),this.setMonths(),this.setYears(),this.setDayLabels(),r&&this.$nextTick(()=>this.togglePanelVisibility(this.$refs.button)),this.$watch("focusedMonth",()=>{this.focusedMonth=+this.focusedMonth,this.focusedDate.month()!==this.focusedMonth&&(this.focusedDate=this.focusedDate.month(this.focusedMonth))}),this.$watch("focusedYear",()=>{if(this.focusedYear?.length>4&&(this.focusedYear=this.focusedYear.substring(0,4)),!this.focusedYear||this.focusedYear?.length!==4)return;let i=+this.focusedYear;Number.isInteger(i)||(i=u().year(),this.focusedYear=i),this.focusedDate.year()!==i&&(this.focusedDate=this.focusedDate.year(i))}),this.$watch("focusedDate",()=>{let i=this.focusedDate.month(),c=this.focusedDate.year();this.focusedMonth!==i&&(this.focusedMonth=i),this.focusedYear!==c&&(this.focusedYear=c),this.setupDaysGrid()}),this.$watch("hour",()=>{let i=+this.hour;if(Number.isInteger(i)?i>23?this.hour=0:i<0?this.hour=23:this.hour=i:this.hour=0,this.isClearingState)return;let c=this.getSelectedDate()??this.focusedDate;this.setState(c.hour(this.hour??0))}),this.$watch("minute",()=>{let i=+this.minute;if(Number.isInteger(i)?i>59?this.minute=0:i<0?this.minute=59:this.minute=i:this.minute=0,this.isClearingState)return;let c=this.getSelectedDate()??this.focusedDate;this.setState(c.minute(this.minute??0))}),this.$watch("second",()=>{let i=+this.second;if(Number.isInteger(i)?i>59?this.second=0:i<0?this.second=59:this.second=i:this.second=0,this.isClearingState)return;let c=this.getSelectedDate()??this.focusedDate;this.setState(c.second(this.second??0))}),this.$watch("state",()=>{if(this.state===void 0)return;let i=this.getSelectedDate();if(i===null){this.clearState();return}this.getMaxDate()!==null&&i?.isAfter(this.getMaxDate())&&(i=null),this.getMinDate()!==null&&i?.isBefore(this.getMinDate())&&(i=null);let c=i?.hour()??0;this.hour!==c&&(this.hour=c);let y=i?.minute()??0;this.minute!==y&&(this.minute=y);let w=i?.second()??0;this.second!==w&&(this.second=w),this.setDisplayText()})},toNumber(o){return l(o,n)},clearState(){this.isClearingState=!0,this.setState(null),this.hour=0,this.minute=0,this.second=0,this.$nextTick(()=>this.isClearingState=!1)},dateIsDisabled(o){return!!(this.$refs?.disabledDates&&JSON.parse(this.$refs.disabledDates.value??[]).some(i=>(i=u(i),i.isValid()?i.isSame(o):!1))||this.getMaxDate()&&o.isAfter(this.getMaxDate())||this.getMinDate()&&o.isBefore(this.getMinDate()))},dayIsDisabled(o){return this.focusedDate??(this.focusedDate=u()),this.dateIsDisabled(this.focusedDate.day(o))},dayIsSelected(o){let i=this.getSelectedDate();return i===null?!1:(this.focusedDate??(this.focusedDate=u()),i.day()===o&&i.month()===this.focusedDate.month()&&i.year()===this.focusedDate.year())},dayIsToday(o){let i=u();return this.focusedDate??(this.focusedDate=i),i.day()===o&&i.month()===this.focusedDate.month()&&i.year()===this.focusedDate.year()},focusPreviousDay(){this.focusedDate??(this.focusedDate=u()),this.focusedDate.subDay()},focusPreviousWeek(){this.focusedDate??(this.focusedDate=u()),this.focusedDate.subWeek()},focusPreviousMonth(){this.focusedDate??(this.focusedDate=u()),this.focusedDate.subMonth()},focusPreviousYear(){this.focusedDate??(this.focusedDate=u()),this.focusedDate.subYear()},focusNextDay(){this.focusedDate??(this.focusedDate=u()),this.focusedDate.addDay()},focusNextWeek(){this.focusedDate??(this.focusedDate=u()),this.focusedDate.addWeek()},focusNextMonth(){this.focusedDate??(this.focusedDate=u()),this.focusedDate.addMonth()},focusNextYear(){this.focusedDate??(this.focusedDate=u()),this.focusedDate.addYear()},getDayLabels(){let o=u.weekdaysShort(n);return s===1?o:[...o.slice(s-1),...o.slice(0,s-1)]},getMaxDate(){let o=u.maxDate(n);return this.$refs.maxDate.value&&(o=u(this.$refs.maxDate.value)),o.isValid()?o:null},getMinDate(){let o=u.minDate(n);return this.$refs.minDate?.value&&(o=u(this.$refs.minDate.value)),o.isValid()?o:null},getSelectedDate(){if(this.state===void 0||this.state===null)return null;let o=u(this.state);return o.isValid()?o:null},getDefaultFocusedDate(){if(this.defaultFocusedDate===null)return null;let o=u(this.defaultFocusedDate);return o.isValid()?o:null},togglePanelVisibility(){this.isOpen()||(this.focusedDate=this.getSelectedDate()??this.focusedDate??this.getMinDate()??u(),this.setupDaysGrid()),this.$refs.panel.toggle(this.$refs.button)},selectDate(o=null){o&&this.setFocusedDay(o),this.focusedDate??(this.focusedDate=u()),this.setState(this.focusedDate),a&&this.togglePanelVisibility()},setDisplayText(){this.displayText=this.getSelectedDate()?this.getSelectedDate().setLocale("np").format(t):""},setYears(){this.years=Array.from({length:u.maxYear()-u.minYear()+1},(o,i)=>u.minYear()+i)},setMonths(){this.months=u.months(n)},setDayLabels(){this.dayLabels=this.getDayLabels()},setupDaysGrid(){this.focusedDate??(this.focusedDate=u()),this.emptyDaysInFocusedMonth=Array.from({length:this.focusedDate.day(8-s).dayOfWeek()},(o,i)=>i+1),this.daysInFocusedMonth=Array.from({length:this.focusedDate.daysInMonth()},(o,i)=>i+1)},setFocusedDay(o){this.focusedDate=(this.focusedDate??u()).day(o)},setState(o){if(o===null){this.state=null,this.setDisplayText();return}this.dateIsDisabled(o)||(this.state=o.hour(this.hour??0).minute(this.minute??0).second(this.second??0).format("YYYY-MM-DD HH:mm:ss"),this.setDisplayText())},isOpen(){return this.$refs.panel?.style.display==="block"}}}export{mt as default};
